<!DOCTYPE html>
<html>
<head>
    <title>AJAX</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
    <h1>Biljardi tilastot</h1>

    <% if (locals.errorMessage != null) { %>
        <div><%= errorMessage %></div>
      <% } %>
      
    <label>Pelin tulos</label>
    <form action="biljardi" method="POST">

        <% try { %>
            <label>Voittaja: </label>
            <select name="winner">
            <% pelaaja.forEach(element => { %>
            <option label=" <%= element.playerName %>" value="<%= element.playerName %>">
            <% }) %>
            </select>
        <% } catch (error) { %>
            <% return true; %>
        <% } %>

        <% try { %>
            <label>Häviäjä: </label>
            <select name="loser">
            <% pelaaja.forEach(element => { %>
            <option label=" <%= element.playerName %>" value="<%= element.playerName %>">
            <% }) %>
            </select>
        <% } catch (error) { %>
            <% return true; %>
        <% } %>
        <label>Lumierät: </label>
    <input type="checkbox" name="biljardilumieracheckbox" value="true">
    <button type="submit">OK</button>
    </form>
    <br>

<label>Aikaisempien pelien tulokset:</label>
<br>
<br>

        <% biljardipelit.forEach(element => { %>
            <div>Voittaja: <%= element.winner %>, Häviäjä: <%= element.loser %>, Lumierät: <%= element.lumierat %>, Ajankohta: <%= element.MatchDate %></div>
          <% }) %>


</body>
</html>